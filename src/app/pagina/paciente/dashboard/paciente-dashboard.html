<div class="dashboard-container">
  <div class="welcome-section">
    <div class="welcome-text">
      <h1>Hola, {{ userName }}</h1>
      <p>Bienvenido a tu portal de salud personal</p>
    </div>
    <div class="date-badge">
      <i class="bi bi-calendar-day"></i>
      <span>{{ today | date:'fullDate' }}</span>
    </div>
  </div>

  <div class="loading-state" *ngIf="isLoading">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
    <p>Actualizando tu información...</p>
  </div>

  <div class="stats-grid" *ngIf="!isLoading">
    <div class="stat-card">
      <div class="stat-icon-wrapper blue">
        <i class="bi bi-calendar-check-fill"></i>
      </div>
      <div class="stat-info">
        <span class="stat-value">{{ totalCitas }}</span>
        <span class="stat-label">Total Citas</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon-wrapper orange">
        <i class="bi bi-hourglass-split"></i>
      </div>
      <div class="stat-info">
        <span class="stat-value">{{ citasPendientes }}</span>
        <span class="stat-label">Pendientes</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon-wrapper purple">
        <i class="bi bi-file-earmark-medical-fill"></i>
      </div>
      <div class="stat-info">
        <span class="stat-value">{{ registrosMedicos }}</span>
        <span class="stat-label">Historial</span>
      </div>
    </div>
  </div>

  <div class="actions-section" *ngIf="!isLoading">
    <h2 class="section-title">¿Qué deseas hacer hoy?</h2>
    <div class="actions-grid">
      <button class="action-card" (click)="navigateTo('agendar-cita')">
        <div class="action-icon">
          <i class="bi bi-calendar-plus-fill"></i>
        </div>
        <h3>Agendar Cita</h3>
        <p>Programa una nueva consulta con nuestros especialistas</p>
        <div class="action-arrow">
          <i class="bi bi-arrow-right"></i>
        </div>
      </button>

      <button class="action-card" (click)="navigateTo('mis-citas')">
        <div class="action-icon">
          <i class="bi bi-calendar-week-fill"></i>
        </div>
        <h3>Mis Citas</h3>
        <p>Revisa tus próximas citas y el estado de las mismas</p>
        <div class="action-arrow">
          <i class="bi bi-arrow-right"></i>
        </div>
      </button>

      <button class="action-card" (click)="navigateTo('historial')">
        <div class="action-icon">
          <i class="bi bi-clock-history"></i>
        </div>
        <h3>Historial Médico</h3>
        <p>Consulta tus diagnósticos y tratamientos pasados</p>
        <div class="action-arrow">
          <i class="bi bi-arrow-right"></i>
        </div>
      </button>

      <button class="action-card" (click)="navigateTo('crear-pqrs')">
        <div class="action-icon">
          <i class="bi bi-chat-text-fill"></i>
        </div>
        <h3>Crear PQRS</h3>
        <p>Envía peticiones, quejas o reclamos a la administración</p>
        <div class="action-arrow">
          <i class="bi bi-arrow-right"></i>
        </div>
      </button>
    </div>
  </div>
</div>
