<div class="page-container">
  <div class="page-header">
    <h1>Mis Citas MÃ©dicas</h1>
    <p>Historial y estado de tus citas programadas</p>
  </div>

  <div class="loading" *ngIf="isLoading">
    <i class="fas fa-spinner fa-spin"></i>
    <p>Cargando citas...</p>
  </div>

  <div class="empty-state" *ngIf="!isLoading && citas.length === 0">
    <i class="fas fa-calendar-times"></i>
    <h3>No tienes citas registradas</h3>
    <p>Agenda una nueva cita para comenzar</p>
  </div>

  <div class="citas-grid" *ngIf="!isLoading && citas.length > 0">
    <div class="cita-card" *ngFor="let cita of citas">
      <div class="cita-header">
        <span class="fecha">
          <i class="far fa-calendar-alt"></i>
          {{ cita.fechaCita | date : 'medium' }}
        </span>
        <span class="status-badge" [ngClass]="getStatusClass(cita.estadoCita)">
          {{ cita.estadoCita.estado }}
        </span>
      </div>

      <div class="cita-body">
        <div class="doctor-info">
          <i class="fas fa-user-md"></i>
          <div>
            <h4>{{ cita.nombreMedico }}</h4>
            <p>{{ cita.especialidad }}</p>
          </div>
        </div>

        <div class="motivo">
          <strong>Motivo:</strong>
          <p>{{ cita.motivo }}</p>
        </div>
      </div>

      <div class="cita-footer" *ngIf="cita.estadoCita.estado === 'PENDIENTE'">
        <button class="cancel-btn" (click)="cancelarCita(cita.codigo)">Cancelar Cita</button>
      </div>
    </div>
  </div>
</div>
